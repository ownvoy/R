# R---

title: "5 Data Transformation"
categories: R

toc: true
toc_sticky: true

date: 2021-12-23
---
## Data Transformation
<br>
data transformation_ 을 하는 이유=> 더 작업하기 좋게 위해서
<br>
int: integer
dbl: double(real number)
chr: character
dttm: date+time
lgl: logical
fctr: factor
date: date
<br>
<br>
5가지 dplyr function
filter(): 값을 통해 관측치를 고른다
arrange(): row을 정렬한다
select(): 이름을 기준으로 속성을 고른다
mutate(): 존재하는 속성을 가지고 새로운 속성을 만든다
summarise(): 여러 속성을 하나로 정리
<br>
<br>
dplyr function 사용 방법
(:white_circle:,:red_circle:,:large_blue_circle:)
:white_circle:= data frame
:red_circle:= 변수 이름을 통해 data frame 한테 뭐 할지
:large_blue_circle:= new data frame
<br>
<br>

1. filter()

(:white_circle:,:red_circle:,:large_blue_circle:)
:white_circle:= data frame
:red_circle:= 속성
:large_blue_circle:= 속성

```R
(dec25 <- filter(flights, month == 12, day == 25))
```
```# A tibble: 719 x 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   <int> <int> <int>    <int>          <int>     <dbl>    <int>          <int>
 1  2013    12    25      456            500        -4      649            651
 2  2013    12    25      524            515         9      805            814
 3  2013    12    25      542            540         2      832            850
 4  2013    12    25      546            550        -4     1022           1027
 5  2013    12    25      556            600        -4      730            745
 6  2013    12    25      557            600        -3      743            752
 7  2013    12    25      557            600        -3      818            831
 8  2013    12    25      559            600        -1      855            856
 9  2013    12    25      559            600        -1      849            855
10  2013    12    25      600            600         0      850            846
```
가로를 쳐주어야지 dec25에 저장을 하고 출력을 동시에 할 수 있다
<br>
filters()는 TRUE 값들만 사용하기 때문에 NA는 못쓴다 NA를 쓰고 싶으면
is.na(x)를 사용해야 한다
<br>
<br>
<br>
2.arrange()
(:white_circle:,:red_circle:,:large_blue_circle:)
:white_circle:= data frame
:red_circle:,:large_blue_circle:= 속성

```r
arrange(flights, year, month, day)
```
```
# A tibble: 719 x 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   <int> <int> <int>    <int>          <int>     <dbl>    <int>          <int>
 1  2013    12    25      456            500        -4      649            651
 2  2013    12    25      524            515         9      805            814
 3  2013    12    25      542            540         2      832            850
 4  2013    12    25      546            550        -4     1022           1027
 5  2013    12    25      556            600        -4      730            745
 6  2013    12    25      557            600        -3      743            752
 7  2013    12    25      557            600        -3      818            831
 8  2013    12    25      559            600        -1      855            856
 9  2013    12    25      559            600        -1      849            855
10  2013    12    25      600            600         0      850            846
# ... with 709 more rows, and 11 more variables: arr_delay <dbl>,
#   carrier <chr>, flight <int>, tailnum <chr>, origin <chr>, dest <chr>,
#   air_time <dbl>, distance <dbl>, hour <dbl>, minute <dbl>, time_hour <dttm>
```
dept_time를 기준으로 내림차순 정리하고 싶으면 desc(dept_time)를 쓴다
```r
arrange(flights,desc(dept_time))